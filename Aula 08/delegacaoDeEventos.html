<title>Curso Javascript Completo 2018</title>

<meta charset="utf-8">

</head>

<body class>

    <div class="container">

        <h1>Curso Javascript Completo 2018</h1>
        
        <button id="btn1" onclick="clicar()">Botão 1</button>

        <button id="btn2">Botão 2</button>

        <button id="btn3">Botão 3</button>

    </div>

    <div class="container">

        <h1 style="background-color: aqua; padding: 25px;">Propagação de eventos</h1>

        <div id="d1" style="padding: 10px; background-color: yellow; height: 80px; font-size: 24px;">texto dentro da div

        <span style="background-color:red; color: white; font-size: 24px; height: 40px; display: inline-block; padding: 15px;">texto dentro da span</span></div>

    </div>

    <div class="container">

        <h1>Delegação de eventos</h1>

        <ul>
            <li>lista 1</li>
            <li>lista 2</li>
            <li>lista 3</li>
        </ul>

    </div>
  

    <script>

        // Delegação de eventos consiste em técnica que consista em atrelar o evento a um elemento mais alto e verificar qual foi o elemento clicado, ou seja, qual elemento disparou o evento

        var $d1 = document.querySelector('#d1');

        var $span = document.querySelector('span');

        $d1.addEventListener('click', function(e) {
           console.log('ddddd11111111111!!!!!');
           e.stopPropagation();
        }, false)

        $span.addEventListener('click', function() {
               console.log('SPAN!');
        }, true)

        document.addEventListener('click', function(e) {

            console.log(e);
            console.log(e.currentTarget); // o elemento ao qual o evento foi atrelado. Em regra, é o próprio document
            console.log(this); // this sempre será o elemento ao qual atrelamos o evento. O this e o currentTarget são praticamente a mesma coisa
            console.log(e.target); // target é o elemento que disparou o evento

            console.log("clicou no documento")

        }, false)

        var $ul = document.querySelector('ul');
        var $lis = document.querySelectorAll('li');

        // $lis[1].addEventListener('click', function(e) {
        //     console.log('clicou na li');
        // })

        // var x = 0;

        // while($lis[x]) {

        //         $lis[x].addEventListener('click', function(e) {

        //         e.stopPropagation();

        //         console.log('clicou na li')

        //     })
        
        //     x++
        // }

        $ul.addEventListener('click', function(e) {
            e.stopPropagation();
            console.log(this);
            console.log(e.currentTarget);
            console.log(e.target);

            console.log(e.target.nodeName );
            if(e.target.nodeName === 'LI') {
                alert('você clicou na li')
            }
        })

        
    </script>

</body>

</html>